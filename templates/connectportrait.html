<!DOCTYPE html>
{%  extends "baseportrait.html" %}
{% block title %}
Ti_Points-Ti_Croix
{%  endblock %}
{% block meta %}
<meta name="Ti-point_Ti-croix" content="Connectez-vous sur le site du jeu Ti-point_Ti-croix.">
{%  endblock %}
{% block style %}
{%  endblock %}
{%  block content %}
<div class="border border-dark" style="font-family: 'Raleway', cursive;font-weight: 400;font-style: normal;
    font-size: 1.6vh;margin-left:2vw;height:74vh;width:96%;">
    <div style="height: 1vh;"></div>
    <h4 style="text-align: center;font-size:1.8vh">Vous n'avez pas encore de compte,
        <a href="{% url 'preregister' %}">
            <span text-center>Inscrivez-vous!</span></a>
    </h4>
    <br>
    <br>
    <h1 style="text-align: center">Connexion</h1>
    <h6 class="texterror text-center" style="color: red">{{ errorLogin }}</h6>
    <div style="height: 5vh;"></div>
    <form  id="grille" class="justify-content-center" method="post">
        {% csrf_token %}
        <div hidden>
            <input id="orientation" name="orientation" type="text" value="{{ orientation }}">
            <input id="rotation" name="rotation" type="text" value="Non">
          </div>
        <div class="row" style="font-size: 2vh;display:flex;justify-content:center">
            <br>
            <div class="col-2"></div>
            <p class="col-8 row">
                <label class="col-5" for="id_email" style="font-size:1.6vh">Email:</label>
                <input class="col-7" type="mail" name="email" maxlength="150" id="id_email"
                style="font-size:1.6vh" required value="{{ email }}">
            </p>
            <div class="col-2"></div>
            <br>
            <div class="col-2"></div>
            <p class="col-8 row">
                <label class="col-5" for="id_password" style="font-size:1.4vh">Password:</label>
                <input class="col-7" type="password" name="password" maxlength="64" id="id_password" 
                title="Must contain at least one number and one uppercase and lowercase letter,
                 and at least 8 or more characters" style="font-size:1.6vh" required
                 value="{{ password }}">
                <a class="col-5"></a>
                <a class="col-7" style="font-size:1.6vh" href="{% url 'prepassword' %}">
                    <span >Mot de passe oubli√©</span></a>                   
            </p>
            <div class="col-2"></div>
            <br>
            <div class="col-12" style="height: 4vh"></div>         
            <div class="col-12" style="font-size: 3vh;display:flex;justify-content:center">
                <button class="btn btn-5" style="width:16vh;background: rgb(0, 208, 255);
                font-size:2vh;margin-right:2vh"
                type="button" id="cancel">Annuler</button>
                <button class="btn btn-5" style="width:16vh;background: rgb(0, 208, 255);
                font-size:2vh" 
                type="submit">Se connecter</button>
            </div>            
            <div class="col-2"></div>             
        </div>
    </form>
</div>
{%  endblock %}
{%  block script %}
<script>
    document.getElementById("cancel").addEventListener('click', function(e) {
        e.preventDefault()
        document.location.href="{% url 'accueil' %}"
    })  
    window.screen.orientation.addEventListener("change", function() {
        document.getElementById("rotation").value="Oui"
        if (window.innerWidth > window.innerHeight) {
            document.getElementById("orientation").value="paysage"
        } else {
            document.getElementById("orientation").value="portrait"
        }
        document.forms["grille"].submit();
    }); 
</script>    
{%  endblock %}
